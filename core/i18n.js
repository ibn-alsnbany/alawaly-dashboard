const translations = {
    ar: {
        title: "العوالي 2030",
        dashboard: "لوحة التحكم",
        finance: "الإدارة المالية",
        marketing: "إدارة التسويق",
        sales: "إدارة المبيعات",
        hr: "إدارة الموارد البشرية",
        analytics: "أداة التحليل",
        system: "إدارة النظام",
        users: "إدارة المستخدمين",
        settings: "الإعدادات",
        notifications: "مركز الإشعارات",
        notificationsSubtitle: "سجل كامل لكافة العمليات والأنشطة التي تمت في النظام.",
        noNotifications: "لا توجد إشعارات حالياً",
        clearAll: "مسح الكل",
        welcomeBack: "مرحباً بك مجدداً، محمد علي",
        dashboardSubtitle: "إليك ما يحدث في مشروعك اليوم.",
        usersSubtitle: "إدارة أعضاء الفريق والصلاحيات",
        welcome: "مرحباً بك في مستقبل العوالي",
        langToggle: "English",
        search: "ابحث عن أي شيء...",
        userName: "محمد علي",
        userRole: "مدير النظام",
        themeToggle: "تغيير المظهر",
        totalSales: "إجمالي المبيعات",
        newUsers: "المستخدمين الجدد",
        expenses: "المصروفات",
        conversionRate: "معدل التحويل",
        recentActivity: "آخر الأنشطة",
        sar: `<svg class="w-4 h-4 inline-block align-baseline mb-0.5" viewBox="0 0 320 350" fill="currentColor"><path d="M110 20 L145 0 L145 270 L110 290 Z M220 45 L255 25 L255 280 L220 300 Z M30 190 L300 100 L315 145 L45 235 Z M15 260 L245 185 L260 230 L30 305 Z M195 305 L300 270 L310 305 L205 340 Z"/></svg>`,
        newUserAdded: "تم إضافة مستخدم جديد",
        saleCompleted: "عملية بيع مكتملة",
        systemUpdated: "تحديث النظام",
        "5minsAgo": "منذ 5 دقائق",
        "15minsAgo": "منذ 15 دقيقة",
        "1hourAgo": "منذ ساعة",
        revenue: "الإيرادات",
        profit: "الأرباح",
        invoices: "الفواتير",
        payments: "المدفوعات",
        campaigns: "الحملات",
        leads: "العملاء المحتملون",
        clicks: "النقرات",
        roi: "العائد",
        orders: "الطلبات",
        customers: "العملاء",
        averageOrder: "متوسط الطلبات",
        employees: "الموظفون",
        attendance: "الحضور",
        leaves: "الإجازات",
        salaries: "الرواتب",
        visitors: "الزوار",
        bounceRate: "معدل الارتداد",
        sessionDuration: "مدة الجلسة",
        security: "الأمان",
        backup: "النسخ الاحتياطي",
        profile: "الملف الشخصي",
        appearance: "المظهر",
        newInvoice: "فاتورة جديدة",
        id: "رقم",
        customer: "العميل",
        amount: "المبلغ",
        status: "الحالة",
        performance: "الأداء",
        channels: "القنوات",
        trafficAnalysis: "تحليل الزيارات",
        recentOrders: "آخر الطلبات",
        employeeList: "قائمة الموظفين",
        systemStatus: "حالة النظام",
        recentUpdates: "آخر التحديثات",
        searchUsers: "البحث عن مستخدم",
        addUser: "إضافة مستخدم",
        fullName: "الاسم الكامل",
        saveChanges: "حفظ التغييرات",
        // New Toggle Keys
        langNameLarge: "English",
        langNameSmall: "EN",
        themeDay: "نهاري",
        themeNight: "ليلي",
        // Dashboard specific
        viewMore: "المزيد",
        invoiceUpdated: "تم تحديث الفاتورة بنجاح",
        invoiceDetails: "تفاصيل الفاتورة الإلكترونية",
        editData: "تعديل البيانات",
        viewDetails: "عرض التفاصيل",
        priceUpdate: "تحديث الأسعار المالية",
        twoDaysAgo: "منذ يومين",
        statistics: "الإحصائيات",
        sales: "المبيعات",
        systemPerformance: "حالة النظام والأداء",
        processingSpeed: "سرعة المعالجة",
        memoryUsage: "استخدام الذاكرة",
        connectionStrength: "قوة الاتصال",
        monthlyReport: "تقرير شهري",
        securitySettings: "إعدادات الأمان",
        // Analytics specific
        analyticsSubtitle: "قراءة وتحليل البيانات في الوقت الحقيقي.",
        avgClickRate: "متوسط النقر",
        weeklyGrowthAnalysis: "تحليل النمو الأسبوعي",
        comparePerformance: "مقارنة أداء الزيارات والتحويلات",
        current: "الحالي",
        previous: "السابق",
        teamPerformance: "أداء الفريق",
        fullStaffReport: "تقرير الموظفين الكامل",
        // Employee names
        employee1: "أحمد عبدالله",
        employee2: "سارة علي",
        employee3: "خالد الحربي",
        employee4: "نورة السويدي",
        // Weekdays
        saturday: "السبت",
        sunday: "الأحد",
        monday: "الإثنين",
        tuesday: "الثلاثاء",
        wednesday: "الأربعاء",
        thursday: "الخميس",
        friday: "الجمعة",
        // Marketing specific
        addCampaign: "إضافة حملة",
        marketingSubtitle: "إدارة الحملات الإعلانية وتحليل الوصول الرقمي.",
        activeCampaigns: "الحملات النشطة",
        campaignsPerformance: "أداء الحملات",
        adsChannels: "قنوات الإعلان",
        marketingSummary: "ملخص التسويق",
        totalReach: "إجمالي الوصول",
        conversionGoal: "هدف التحويل",
        adSpend: "الإنفاق الإعلاني",
        roiLabel: "العائد على الاستثمار",
        snapchatAds: "إعلانات سناب شات",
        tiktokAds: "تيك توك للأعمال",
        googleAds: "بحث جوجل",
        xAds: "إعلانات إكس",
        // HR specific
        hrSubtitle: "إدارة الكوادر البشرية والنمو الوظيفي.",
        hrSummary: "ملخص الموارد البشرية",
        avgPerformance: "متوسط الأداء",
        attendanceRate: "نسبة الحضور",
        performanceOverview: "نظرة عامة على الأداء",
        totalSalaries: "إجمالي الرواتب",
        noEmployees: "لا يوجد موظفون متاحون",
        // Products specific
        products: "المنتجات",
        productsSubtitle: "إدارة المخزون والمنتجات المتوفرة.",
        addProduct: "إضافة منتج",
        productList: "قائمة المنتجات",
        sku: "رمز المنتج",
        category: "الفئة",
        price: "السعر",
        stock: "المخزون",
        inStock: "متوفر",
        outOfStock: "نفذ",
        lowStock: "قارب على الانتهاء",
        productsSummary: "ملخص المنتجات",
        totalProducts: "إجمالي المنتجات",
        topCategory: "الفئة الأكثر مبيعاً",
        inventoryValue: "قيمة المخزون",
        productName: "اسم المنتج",
        enterProductName: "أدخل اسم المنتج",
        viewProduct: "عرض تفاصيل المنتج",
        // Categories
        smartphones: "الهواتف الذكية",
        laptops: "أجهزة اللابتوب",
        accessories: "الملحقات",
        tablets: "أجهزة التابلت",
        electronics: "الإلكترونيات",
        general: "عام",
        // Statuses (Lowercase for dynamic access)
        instock: "متوفر",
        outofstock: "نفذ",
        lowstock: "منخفض",
        // Sales specific
        salesSubtitle: "تتبع المبيعات والطلبات والنمو السنوي.",
        newOrder: "طلب جديد",
        stable: "مستقر",
        noResults: "لا يوجد نتائج تطابق بحثك",
        createNewOrder: "إنشاء طلب جديد",
        customerName: "اسم العميل",
        enterCustomerName: "أدخل اسم العميل...",
        orderTotal: "اجمالي الطلب",
        confirmOrder: "تأكيد الطلب",
        searchOrders: "بحث في الطلبات...",
        // Order statuses
        cancelled: "ملغي",
        paid: "مدفوع",
        pending: "قيد الانتظار",
        overdue: "متأخر",
        completed: "مكتمل",
        processing: "قيد المعالجة",
        // Finance specific
        financeSubtitle: "إدارة التدفقات المالية والميزانيات.",
        hopeCompany: "شركة الأمل",
        riyadhOrg: "مؤسسة الرياض",
        wafaStore: "متجر الوفاء",
        searchInvoices: "بحث في الفواتير...",
        noInvoices: "لا يوجد فواتير مطابقة",
        // HR specific
        hrSubtitle: "إدارة الكوادر البشرية والنمو الوظيفي.",
        addEmployee: "إضافة موظف",
        searchEmployees: "بحث في الكوادر...",
        noEmployees: "لا يوجد موظفين مطابقين",
        active: "نشط",
        onLeave: "في إجازة",
        techManager: "مدير تقني",
        uiDesigner: "مصممة واجهات",
        dataAnalyst: "محلل بيانات",
        newEmployeeName: "اسم الموظف الجديد",
        enterName: "أدخل الاسم...",
        jobTitle: "المسمى الوظيفي",
        hireNow: "توظيف الآن",
        editEmployeeRecord: "تعديل سجل الموظف",
        applyUpdate: "تطبيق التحديث",
        viewRecord: "عرض السجل",
        deleteRecord: "حذف السجل",
        workingStatus: "حالة العمل",
        employeeId: "رقم الموظف",
        confirmDeleteEmployee: "هل أنت متأكد من حذف الموظف من السجل؟",
        // Users specific
        userList: "قائمة الكوادر",
        noUsersFound: "لا يوجد نتائج لهذا البحث",
        absenceReport: "تقرير الغياب اليومي",
        notRegistered: "غير مسجل",
        late: "تأخر رسمي",
        fullAbsenceLog: "سجل الغياب الكامل",
        deptDistribution: "توزيع الأقسام",
        tech: "التقنية",
        itDept: "قسم تقنية المعلومات",
        marketingDept: "قسم التسويق",
        hrDept: "مكتب الموارد البشرية",
        financeDept: "قسم المالية",
        developer: "مطور",
        lead: "رئيس فريق",
        manager: "مدير",
        analyst: "محلل",
        enterEmail: "أدخل البريد الإلكتروني...",
        hireUser: "إضافة الكادر",
        editUserRecord: "تعديل بيانات الموظف",
        currentDept: "القسم الحالي",
        editProfile: "تعديل الملف",
        confirmDeleteUser: "هل أنت متأكد من حذف هذا الموظف؟",
        // System specific
        systemSubtitle: "مراقبة صحة النظام والتحديثات التقنية.",
        systemOverview: "نظرة عامة على النظام",
        systemStable: "النظام مستقر",
        cpuLoad: "حمولة المعالج",
        cloudStorage: "التخزين السحابي",
        uptime: "وقت التشغيل",
        responseTime: "زمن الاستجابة",
        optimized: "محسّن",
        efficient: "كفوء",
        continuous: "مستمر",
        excellent: "ممتاز",
        updateLog: "سجل التحديثات",
        days: "يوم",
        securityUpdateDesc: "تحسينات أمنية شاملة وتحديث الواجهة الرسومية.",
        salesFixDesc: "إصلاحات تقنية في نظام المبيعات والتقارير.",
        // Settings specific
        settingsSubtitle: "تخصيص تجربة النظام وتحديث بياناتك الشخصية.",
        securitySettings: "إعدادات الأمان",
        twoFactorAuth: "التحقق الثنائي (2FA)",
        twoFactorDesc: "حماية إضافية لحسابك عبر الهاتف.",
        loginNotifications: "إشعارات تسجيل الدخول",
        loginNotifDesc: "تنبيهك عند دخول الحساب من جهاز جديد.",
        profileUpdated: "تم الحفظ!",
        settingsSidebarDesc: "قم بتحديث بياناتك الشخصية باستمرار لضمان دقة التقارير والتواصل الفعال مع الفريق."
    },
    en: {
        title: "Al-Awali 2030",
        dashboard: "Dashboard",
        finance: "Financial Management",
        marketing: "Marketing Management",
        sales: "Sales Management",
        hr: "HR Management",
        analytics: "Analytics Tool",
        system: "System Management",
        users: "User Management",
        settings: "Settings",
        notifications: "Notifications Center",
        notificationsSubtitle: "Full log of all system operations and activities.",
        noNotifications: "No notifications available",
        clearAll: "Clear All",
        welcomeBack: "Welcome back, Mohammed Ali",
        dashboardSubtitle: "Here's what's happening today.",
        usersSubtitle: "Manage your team members and roles.",
        welcome: "Welcome to Al-Awali",
        langToggle: "العربية",
        search: "Search everything...",
        userName: "Mohammed Ali",
        userRole: "System Admin",
        themeToggle: "Toggle Theme",
        totalSales: "Total Sales",
        newUsers: "New Users",
        expenses: "Expenses",
        conversionRate: "Conversion Rate",
        recentActivity: "Recent Activity",
        sar: `<svg class="w-4 h-4 inline-block align-baseline mb-0.5" viewBox="0 0 320 350" fill="currentColor"><path d="M110 20 L145 0 L145 270 L110 290 Z M220 45 L255 25 L255 280 L220 300 Z M30 190 L300 100 L315 145 L45 235 Z M15 260 L245 185 L260 230 L30 305 Z M195 305 L300 270 L310 305 L205 340 Z"/></svg>`,
        newUserAdded: "New user joined",
        saleCompleted: "Sale completed",
        systemUpdated: "System updated",
        "5minsAgo": "5 mins ago",
        "15minsAgo": "15 mins ago",
        "1hourAgo": "1 hour ago",
        revenue: "Revenue",
        profit: "Profit",
        invoices: "Invoices",
        payments: "Payments",
        campaigns: "Campaigns",
        leads: "Leads",
        clicks: "Clicks",
        roi: "ROI",
        orders: "Orders",
        customers: "Customers",
        averageOrder: "Avg Order",
        employees: "Employees",
        attendance: "Attendance",
        leaves: "Leaves",
        salaries: "Salaries",
        visitors: "Visitors",
        bounceRate: "Bounce Rate",
        sessionDuration: "Session Duration",
        security: "Security",
        backup: "Backup",
        profile: "Profile",
        appearance: "Appearance",
        newInvoice: "New Invoice",
        id: "ID",
        customer: "Customer",
        amount: "Amount",
        status: "Status",
        performance: "Performance",
        channels: "Channels",
        trafficAnalysis: "Traffic Analysis",
        recentOrders: "Recent Orders",
        employeeList: "Employee List",
        systemStatus: "System Status",
        recentUpdates: "Recent Updates",
        searchUsers: "Search Users",
        addUser: "Add User",
        fullName: "Full Name",
        saveChanges: "Save Changes",
        // New Toggle Keys
        langNameLarge: "العربية",
        langNameSmall: "عر",
        themeDay: "light",
        themeNight: "dark",
        // Dashboard specific
        viewMore: "View More",
        invoiceUpdated: "Invoice updated successfully",
        invoiceDetails: "Electronic Invoice Details",
        editData: "Edit Data",
        viewDetails: "View Details",
        priceUpdate: "Price update",
        twoDaysAgo: "2 days ago",
        statistics: "Statistics",
        sales: "Sales",
        systemPerformance: "System Performance",
        processingSpeed: "Processing Speed",
        memoryUsage: "Memory Usage",
        connectionStrength: "Connection Strength",
        monthlyReport: "Monthly Report",
        securitySettings: "Security Settings",
        // Analytics specific
        analyticsSubtitle: "Real-time data reading and analysis.",
        avgClickRate: "Avg Click Rate",
        weeklyGrowthAnalysis: "Weekly Growth Analysis",
        comparePerformance: "Compare visits and conversions performance",
        current: "Current",
        previous: "Previous",
        teamPerformance: "Team Performance",
        fullStaffReport: "Full Staff Report",
        // Employee names
        employee1: "Ahmed Abdullah",
        employee2: "Sarah Ali",
        employee3: "Khaled Al-Harbi",
        employee4: "Noura Al-Suwaidi",
        // Weekdays
        saturday: "Sat",
        sunday: "Sun",
        monday: "Mon",
        tuesday: "Tue",
        wednesday: "Wed",
        thursday: "Thu",
        friday: "Fri",
        // Marketing specific
        addCampaign: "Add Campaign",
        marketingSubtitle: "Manage ad campaigns and digital reach analysis.",
        activeCampaigns: "Active Campaigns",
        campaignsPerformance: "Campaign Performance",
        adsChannels: "Ad Channels",
        marketingSummary: "Marketing Summary",
        totalReach: "Total Reach",
        conversionGoal: "Conversion Goal",
        adSpend: "Ad Spend",
        roiLabel: "ROI",
        snapchatAds: "Snapchat Ads",
        tiktokAds: "TikTok Business",
        googleAds: "Google Search",
        xAds: "X Ads",
        // HR specific
        hrSubtitle: "Manage human resources and career growth.",
        hrSummary: "HR Summary",
        avgPerformance: "Avg Performance",
        attendanceRate: "Attendance Rate",
        performanceOverview: "Performance Overview",
        totalSalaries: "Total Salaries",
        noEmployees: "No employees found",
        // Products specific
        products: "Products",
        productsSubtitle: "Manage inventory and available products.",
        addProduct: "Add Product",
        productList: "Product List",
        sku: "SKU",
        category: "Category",
        price: "Price",
        stock: "Stock",
        inStock: "In Stock",
        outOfStock: "Out of Stock",
        lowStock: "Low Stock",
        productsSummary: "Products Summary",
        totalProducts: "Total Products",
        topCategory: "Top Category",
        inventoryValue: "Inventory Value",
        productName: "Product Name",
        enterProductName: "Enter product name",
        viewProduct: "View Product Details",
        // Categories
        smartphones: "Smartphones",
        laptops: "Laptops",
        accessories: "Accessories",
        tablets: "Tablets",
        electronics: "Electronics",
        general: "General",
        // Statuses (Lowercase for dynamic access)
        instock: "In Stock",
        outofstock: "Out of Stock",
        lowstock: "Low Stock",
        // Sales specific
        salesSubtitle: "Track sales, orders, and annual growth.",
        newOrder: "New Order",
        stable: "Stable",
        noResults: "No results match your search",
        createNewOrder: "Create New Order",
        customerName: "Customer Name",
        enterCustomerName: "Enter customer name...",
        orderTotal: "Order Total",
        confirmOrder: "Confirm Order",
        searchOrders: "Search orders...",
        // Order statuses
        cancelled: "Cancelled",
        paid: "Paid",
        pending: "Pending",
        overdue: "Overdue",
        completed: "Completed",
        processing: "Processing",
        // Finance specific
        financeSubtitle: "Manage financial flows and budgets.",
        hopeCompany: "Al-Amal Company",
        riyadhOrg: "Riyadh Organization",
        wafaStore: "Al-Wafa Store",
        searchInvoices: "Search invoices...",
        noInvoices: "No matching invoices found",
        // HR specific
        hrSubtitle: "Managing human resources and career growth.",
        addEmployee: "Add Employee",
        searchEmployees: "Search employees...",
        noEmployees: "No matching employees found",
        active: "Active",
        onLeave: "On Leave",
        techManager: "Tech Manager",
        uiDesigner: "UI Designer",
        dataAnalyst: "Data Analyst",
        newEmployeeName: "New Employee Name",
        enterName: "Enter name...",
        jobTitle: "Job Title",
        hireNow: "Hire Now",
        editEmployeeRecord: "Edit Employee Record",
        applyUpdate: "Apply Update",
        viewRecord: "View Record",
        deleteRecord: "Delete Record",
        workingStatus: "Working Status",
        employeeId: "Employee ID",
        confirmDeleteEmployee: "Are you sure you want to delete this employee from the record?",
        // Users specific
        userList: "Staff List",
        noUsersFound: "No results found for this search",
        absenceReport: "Daily Absence Report",
        notRegistered: "Not Registered",
        late: "Official Late",
        fullAbsenceLog: "Full Absence Log",
        deptDistribution: "Dept. Distribution",
        tech: "Technical",
        itDept: "IT Department",
        marketingDept: "Marketing",
        hrDept: "HR Office",
        financeDept: "Finance",
        developer: "Developer",
        lead: "Lead",
        manager: "Manager",
        analyst: "Analyst",
        enterEmail: "Enter email address...",
        hireUser: "Add Staff Member",
        editUserRecord: "Edit Employee Record",
        currentDept: "Current Department",
        editProfile: "Edit Profile",
        confirmDeleteUser: "Are you sure you want to delete this employee?",
        // System specific
        systemSubtitle: "Monitoring system health and technical updates.",
        systemOverview: "System Overview",
        systemStable: "System Stable",
        cpuLoad: "CPU Load",
        cloudStorage: "Cloud Storage",
        uptime: "System Uptime",
        responseTime: "Response Time",
        optimized: "Optimized",
        efficient: "Efficient",
        continuous: "Continuous",
        excellent: "Excellent",
        updateLog: "Update Log",
        days: "days",
        securityUpdateDesc: "Comprehensive security improvements and UI update.",
        salesFixDesc: "Technical fixes in sales system and reporting.",
        // Settings specific
        settingsSubtitle: "Customize system experience and update your personal data.",
        securitySettings: "Security Settings",
        twoFactorAuth: "Two-Factor Auth (2FA)",
        twoFactorDesc: "Extra protection for your account via phone.",
        loginNotifications: "Login Notifications",
        loginNotifDesc: "Alert you when login occurs from a new device.",
        profileUpdated: "Profile Saved!",
        settingsSidebarDesc: "Keep your personal data updated to ensure accurate reporting and effective team communication."
    }
};

class I18n {
    constructor() {
        this.lang = localStorage.getItem('lang') || 'ar';
        this.apply();
    }

    toggle() {
        this.lang = this.lang === 'ar' ? 'en' : 'ar';
        localStorage.setItem('lang', this.lang);
        this.apply();
        window.dispatchEvent(new CustomEvent('langChanged', { detail: this.lang }));
    }

    apply() {
        document.documentElement.lang = this.lang;
        document.documentElement.dir = this.lang === 'ar' ? 'rtl' : 'ltr';
        this.translatePage();
    }

    translatePage() {
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[this.lang][key]) {
                el.innerHTML = translations[this.lang][key];
            }
        });

        const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
        placeholders.forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (translations[this.lang][key]) {
                el.placeholder = translations[this.lang][key];
            }
        });
    }

    t(key) {
        return translations[this.lang][key] || key;
    }
}

export const i18n = new I18n();
